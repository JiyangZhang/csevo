\section{Motivating Examples}
\label{sec:examples}

% apache_commons-lang, 5e55f9463ed7f8f423e4c070
\begin{lstlisting}[language=java-pretty]
/** @throws java.lang.IllegalStateException - if this semaphore is already shut down */
public synchronized void acquire() throws InterruptedException {
    <HL>prepareAcquire();<HL/>
    boolean canPass;
    do {
        canPass = acquirePermit();
        if (!canPass) {
            wait();
        }
    } while (!canPass);
}

// Exception Trace
<HLL/>// Message: "TimedSemaphore is shut down!"
// Passer 0 (Thrower): org/apache/commons/lang3/concurrent/TimedSemaphore.prepareAcquire()
<HLL/>// --Branch: "isShutdown()" evaluates to true
// Passer 1 (This Method): org/apache/commons/lang3/concurrent/TimedSemaphore.acquire()
// ...
\end{lstlisting}

% apache_commons-lang, 5e55f9463ed7f8f423e4bfa1
\begin{lstlisting}[language=java-pretty]
/** @throws java.lang.IndexOutOfBoundsException - if the index is out of range
  (index < 0 || index >= array.length), or if the array is null. */
public static float[] remove(final float[] array, final int index) {
    return (float[]) remove((Object) array, index);
}

// Exception Traces (3)
// #0
// Message: "Index: -1, Length: 2"
// Passer 0 (Thrower): org/apache/commons/lang3/ArrayUtils.remove(Ljava/lang/Object;I)
// --Branch: "index < 0 || index >= length" evaluates to true
<HLL/>// ----PC: "index < 0 || index >= getLength(array)"
// Passer 1 (This Method): org/apache/commons/lang3/ArrayUtils.remove([FI)

// #1
// Message: "Index: 2, Length: 2"
// (Passers and branches are the same as #0)

// #2
// Message: "Index: 0, Length: 0"
// (Passers and branches are the same as #0)
\end{lstlisting}

% apache_santuario-java, 5e55f9493ed7f8f423e4c7e7
\begin{lstlisting}[language=java-pretty]
/** @throws java.lang.ClassCastException - if any of the references are not of
    type Reference */
public DOMSignedInfo(CanonicalizationMethod cm, SignatureMethod sm, List<? extends Reference> references, String id) {
    this(cm, sm, references);
    this.id = id;
}

// Exception Trace (1)
// Message: "list of references contains an illegal type"
// Passer 1 (Thrower): org/apache/jcp/xml/dsig/internal/dom/DOMSignedInfo.<init>(Ljavax/xml/crypto/dsig/CanonicalizationMethod;Ljavax/xml/crypto/dsig/SignatureMethod;Ljava/util/List;)
// --Branch 0: "cm == null || sm == null || references == null" evaluates to false
// --Branch 1: "this.references.isEmpty()" evaluates to false
// ----PC: "Collections.unmodifiableList(new ArrayList<>(references)).isEmpty()"
// --Branch 2: "!(obj instanceof Reference)" evaluates to true
<HLL/>// ----PC: "!(this.references.get(i) instanceof Reference)"
// Passer 2 (This Method): org/apache/jcp/xml/dsig/internal/dom/DOMSignedInfo.<init>(Ljavax/xml/crypto/dsig/CanonicalizationMethod;Ljavax/xml/crypto/dsig/SignatureMethod;Ljava/util/List;Ljava/lang/String;)
\end{lstlisting}


%% \begin{lstlisting}[language=java-pretty]
%% /** @throws NullPointerException if set or predicate is null */
%% public static <E> PredicatedSet<E> predicatedSet(final Set<E> set, final Predicate<? super E> predicate) {
%%   return new PredicatedSet<>(set, predicate);
%% }

%% protected PredicatedSet(final Set<E> set, final Predicate<? super E> predicate) {
%%   super(set, predicate);
%% }

%% protected PredicatedCollection(final Collection<E> coll, final Predicate<? super E> predicate) {
%%   super(coll);
%%   if (predicate == null) {
%%     throw new NullPointerException("Predicate must not be null.");
%%   }
%%   this.predicate = predicate;
%%   for (final E item : coll) {
%%     validate(item);
%%   }
%% }


%% Methods:
%% - PredicatedSet.predicatedSet(Set, Predicate)
%%   - parameter values: set=object, predicate=null
%% - PredicatedSet.<init>(Set, Predicate)
%%   - parameter values: set=object, predicate=null
%% - PredicatedCollection.<init>(Collection, Predicate)
%%   - parameter values: coll=object, predicate=null
%%   - branches:
%%     - "predicate == null", "true"

%% Message: "Predicate must not be null."
%% \end{lstlisting}
